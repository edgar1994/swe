<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">


<h:form id="form">
    <p:messages id="messages"/>

    <p:dataTable id="multipleDT" var="car" value="#{userController.entityList}" selectionMode="multiple"
                 selection="#{userController.selectedUser}" rowKey="#{user.}">
        <f:facet name="header">
            Multiple with Meta and Shift keys
        </f:facet>
        <p:column>
            <f:facet name="header">#{msg['USER.NACHNAME']}</f:facet>
            <h:outputText value="#{user.nachname}"/>
        </p:column>
        <p:column>
            <f:facet name="header">#{msg['USER.VORNAME']}</f:facet>
            <h:outputText value="#{user.vorname}"/>
        </p:column>
        <p:column>
            <f:facet name="header">#{msg['USER.ADRESSE']}</f:facet>
            <h:outputText value="#{userController.formatedAdresse(user)}"/>
        </p:column>
        <p:column rendered="#{loginController.adminRole()}">
            <div align="center">
                <f:facet name="header">#{msg['USER.LOESCHEN']}</f:facet>
                <h:form>
                    <p:commandButton class="customerButton" action="#{userController.deleteRow}"
                                     value="#{msg['USER.LOESCHEN']}"/>
                </h:form>
            </div>
        </p:column>
        <p:column rendered="#{loginController.adminRole()}">
            <div align="center">
                <f:facet name="header">#{msg['USER.BEARBEITEN']}</f:facet>
                <h:form>
                    <p:commandButton class="customerButton" action="#{userController.edit}"
                                     value="#{msg['USER.BEARBEITEN']}"/>
                </h:form>
            </div>
        </p:column>
        <f:facet name="footer">
            <p:commandButton process="multipleDT" update=":form:multiCarDetail" icon="pi pi-search" value="View"
                             oncomplete="PF('multiUserDialog').show()"/>
        </f:facet>
    </p:dataTable>

    <p:dialog header="Selected User" widgetVar="multiUserDialog" modal="true" showEffect="fade" hideEffect="fade"
              resizable="false" width="220">
        <p:outputPanel id="multiUserDetail" style="text-align:center;">
            <ui:repeat value="#{userController.selectedUser}" var="user">
                <h:outputText value="#{user.id} - #{user.nachname}" style="display:block"/>
            </ui:repeat>
        </p:outputPanel>
    </p:dialog>
</h:form>
</html>